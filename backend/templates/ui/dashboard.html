{% extends "ui/base.html" %}
{% load static %}

{% block page_title %}Dashboard{% endblock %}
{% block page_heading %}Dashboard{% endblock %}
{% block page_subtitle %}Overview of your admissions workspace.{% endblock %}

{% block content %}
  <section class="stat-grid">
    <div class="card">
      <div class="card-title">
        <img src="{% static 'icons/dashboard.svg' %}" alt="" />
        <h2>Application progress</h2>
      </div>
      <div class="stat-value">65%</div>
      <div class="progress">
        <div class="progress-bar" style="width: 65%"></div>
      </div>
      <div class="chip info" style="margin-top: 10px;">+12% this month</div>
    </div>
    <div class="card">
      <div class="card-title">
        <img src="{% static 'icons/tasks.svg' %}" alt="" />
        <h2>Next deadline</h2>
      </div>
      <div class="stat-value">Oct 15, 2026</div>
      <div class="chip warn">10 days left</div>
    </div>
    <div class="card">
      <div class="card-title">
        <img src="{% static 'icons/tasks.svg' %}" alt="" />
        <h2>Tasks due this week</h2>
      </div>
      <div class="stat-value">3</div>
      <div class="chip info">2 in progress</div>
    </div>
    <div class="card">
      <div class="card-title">
        <img src="{% static 'icons/universities.svg' %}" alt="" />
        <h2>Saved universities</h2>
      </div>
      <div class="stat-value">8</div>
      <div class="chip success">+2 recently</div>
    </div>
  </section>

  <section class="grid-2">
    <div class="card">
      <div class="card-title">
        <img src="{% static 'icons/tasks.svg' %}" alt="" />
        <h2>Upcoming tasks</h2>
      </div>
      <div style="display: grid; gap: 12px; margin-top: 10px;">
        <div class="chip info">Finish Personal Statement</div>
        <div class="chip info">Request Recommendation Letter</div>
        <div class="chip info">Practice SAT Test</div>
      </div>
      <div class="form-actions">
        <button class="secondary">Open tasks</button>
      </div>
    </div>
    <div class="card">
      <div class="card-title">
        <img src="{% static 'icons/universities.svg' %}" alt="" />
        <h2>Chance of admission</h2>
      </div>
      <p style="margin-bottom: 10px;">Harvard</p>
      <div class="stat-value">45–60%</div>
      <div class="progress">
        <div class="progress-bar" style="width: 52%"></div>
      </div>
      <p style="margin-top: 10px;">Estimated chance: <strong>52%</strong></p>
    </div>
  </section>

  <section class="grid-2">
    <div class="card">
      <div class="card-title">
        <img src="{% static 'icons/documents.svg' %}" alt="" />
        <h2>Essay review</h2>
      </div>
      <label for="draft-select">Draft</label>
      <select id="draft-select">
        <option>Personal Statement</option>
        <option>Supplemental Essay</option>
      </select>
      <label for="draft-text">Notes</label>
      <textarea id="draft-text" placeholder="I have always dreamt of studying in the United States..."></textarea>
      <div class="form-actions">
        <button>AI Suggestions</button>
        <button class="secondary">Revise</button>
        <button class="ghost">Comment</button>
      </div>
    </div>
    <div class="card">
      <div class="card-title">
        <img src="{% static 'icons/universities.svg' %}" alt="" />
        <h2>University list</h2>
      </div>
      <div class="table-wrap">
        <table>
          <thead>
            <tr>
              <th>University</th>
              <th>Deadline</th>
              <th>Chance</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>Stanford University</td>
              <td>Jan 1, 2027</td>
              <td>20–35%</td>
              <td><span class="chip warn">In progress</span></td>
            </tr>
            <tr>
              <td>NYU</td>
              <td>Nov 15, 2026</td>
              <td>50–70%</td>
              <td><span class="chip success">Ready</span></td>
            </tr>
            <tr>
              <td>UC Berkeley</td>
              <td>Dec 1, 2026</td>
              <td>30–45%</td>
              <td><span class="chip info">Essay drafting</span></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </section>

  <section class="card">
    <div class="card-title">
      <img src="{% static 'icons/dashboard.svg' %}" alt="" />
      <h2>Workspace actions</h2>
    </div>
    <p>Use the navigation to keep profile, universities, tasks, and documents in sync.</p>
    <div class="form-actions">
      <button class="secondary">Generate plan</button>
      <button class="ghost">Open dashboard settings</button>
    </div>
  </section>
{% endblock %}

{% block scripts %}
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const api = window.api;
      if (!api || !api.request) {
        console.error("API helpers not loaded.");
        return;
      }
    });
  </script>
{% endblock %}
